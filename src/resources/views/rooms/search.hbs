
    <div class="search-page container-fluid py-5">
        <h1 class="text-center mb-4">Tìm kiếm phòng</h1>
        <form class="booking-form bg-light p-4 rounded shadow mb-5 mx-auto" name="bookingForm" action="/search" method="GET">
            <div class="row g-3">
                <div class="col-md-2 form-group">
                    <label for="checkin">Nhận phòng</label>
                    <input type="date" class="form-control" id="checkin" name="checkin" required>
                </div>
                <div class="col-md-2 form-group">
                    <label for="checkout">Trả phòng</label>
                    <input type="date" class="form-control" id="checkout" name="checkout" required>
                </div>
                <div class="col-md-2 form-group">
                    <label for="roomCount">Số phòng</label>
                    <input type="number" class="form-control" id="roomCount" name="roomCount" value="1" min="1" required>
                </div>
                <div class="col-md-2 form-group">
                    <label for="adults">Người lớn</label>
                    <input type="number" class="form-control" id="adults" name="adults" value="2" min="1" required>
                </div>
                <div class="col-md-2 form-group">
                    <label for="children">Trẻ em</label>
                    <input type="number" class="form-control" id="children" name="children" value="0" min="0" required>
                </div>
                <div class="col-md-2 d-flex align-items-end">
                    <button class="btn-search btn btn-primary w-100" type="submit">TÌM KIẾM</button>
                </div>
            </div>
        </form>

        <div class="search-results container">
            {{#if rooms.length}}
                <h2 class="mb-4">Phòng khả dụng</h2>
                <div class="row">
                    {{#each rooms}}
                        <div class="col-md-4 mb-4">
                            <div class="card h-100">
                                {{#if this.images.[0]}}
                                    <img src="{{this.images.[0]}}" class="card-img-top" alt="{{this.roomType.name}}">
                                {{else}}
                                    <img src="https://via.placeholder.com/300x200" class="card-img-top" alt="Placeholder">
                                {{/if}}
                                <div class="card-body">
                                    <h5 class="card-title">{{this.roomType.name}} - Phòng {{this.number}}</h5>
                                    <p class="card-text">{{this.description}}</p>
                                    <p><strong>Giá:</strong> {{this.price}} VND/đêm</p>
                                    <p><strong>Sức chứa:</strong> {{this.capacity}} người</p>
                                    <p><strong>Diện tích:</strong> {{this.size}} m²</p>
                                    <p><strong>Hướng nhìn:</strong> {{this.view}}</p>
                                    <p><strong>Tiện nghi:</strong> {{this.amenities.beds}}, {{this.amenities.bathroom}}</p>
                                    <a href="/book/{{this._id}}" class="btn btn-primary">Đặt phòng</a>
                                </div>
                            </div>
                        </div>
                    {{/each}}
                </div>
            {{else}}
                <p class="text-center">Không tìm thấy phòng phù hợp. Vui lòng thử lại với các tiêu chí khác.</p>
            {{/if}}
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // Set minimum date for check-in and check-out to today
        const today = new Date().toISOString().split('T')[0];
        const checkinInput = document.getElementById('checkin');
        const checkoutInput = document.getElementById('checkout');

        checkinInput.setAttribute('min', today);
        checkoutInput.setAttribute('min', today);

        // Ensure checkout date is not before check-in date
        checkinInput.addEventListener('change', function() {
            checkoutInput.setAttribute('min', this.value);
        });

        // Ensure check-in date is not after checkout date
        checkoutInput.addEventListener('change', function() {
            if (checkinInput.value > this.value) {
                checkinInput.value = this.value;
            }
        });
    </script>