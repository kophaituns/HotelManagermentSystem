<div class="dashboard">
  <aside class="dashboard__sidebar">
    <div class="dashboard__brand">Resort Biển 5 Sao</div>
    <nav class="dashboard__nav">
      <a href="/admin/rooms" class="dashboard__nav-link">
        <i class="ti-home"></i>
        <span>Quản lý phòng</span>
      </a>
      <a href="/admin/employees" class="dashboard__nav-link">
        <i class="ti-user"></i>
        <span>Quản lý nhân viên</span>
      </a>
      <a href="/admin/trash" class="dashboard__nav-link">
        <i class="ti-trash"></i>
        <span>Thùng rác</span>
      </a>
      <a href="/logout" class="dashboard__nav-link">
        <i class="ti-power-off"></i>
        <span>Đăng xuất</span>
      </a>
    </nav>
  </aside>

  <main class="dashboard__content">
    <header class="dashboard__header">
      <h2 class="dashboard__title"><i class="ti-home"></i> Quản lý phòng</h2>
      <div class="dashboard__user-info">
        <span><i class="ti-user"></i> Tên: {{user.fullName}}</span>
        <span><i class="ti-id-badge"></i> Quyền: {{user.role}}</span>
      </div>
    </header>

    <section class="dashboard__section">
      <h3><i class="ti-list"></i> Danh sách phòng</h3>
      {{#if error}}
        <div class="alert alert-danger"><i class="ti-alert"></i> {{error}}</div>
      {{/if}}
      {{#if message}}
        <div class="alert alert-success"><i class="ti-check"></i> {{message}}</div>
      {{/if}}

      <form action="/admin/rooms" method="GET" class="search-form mb-3">
        <div class="mb-3">
          <label for="name" class="form-label"><i class="ti-search"></i> Tìm kiếm theo tên phòng</label>
          <input type="text" class="form-control" id="name" name="name" value="{{searchQuery.name}}" placeholder="Nhập tên phòng">
        </div>
        <button type="submit" class="btn btn-primary"><i class="ti-search"></i> Tìm kiếm</button>
      </form>

      <div class="table-responsive">
        <table class="table table-bordered">
          <thead>
            <tr>
              <th>Tên phòng</th>
              <th>Loại phòng</th>
              <th>Giá (VND/đêm)</th>
              <th>Còn lại</th>
              <th>Hành động</th>
            </tr>
          </thead>
          <tbody>
            {{#each rooms}}
              <tr>
                <td>{{name}}</td>
                <td>{{typeId.name}}</td>
                <td>{{price}}</td>
                <td>{{remaining}}</td>
                <td>
                  <a href="/admin/rooms/{{_id}}" class="btn btn-primary btn-sm"><i class="ti-eye"></i> Xem</a>
                  <a href="/admin/rooms/{{_id}}/edit" class="btn btn-success btn-sm"><i class="ti-pencil"></i> Sửa</a>
                  <form action="/admin/rooms/{{_id}}/delete" method="POST" style="display:inline;">
                    <button type="submit" class="btn btn-danger btn-sm"><i class="ti-trash"></i> Xóa</button>
                  </form>
                </td>
              </tr>
            {{else}}
              <tr>
                <td colspan="5">Không có phòng nào.</td>
              </tr>
            {{/each}}
          </tbody>
        </table>
      </div>
      <a href="/admin/rooms/create" class="btn btn-success"><i class="ti-plus"></i> Thêm phòng</a>
    </section>
  </main>
</div>